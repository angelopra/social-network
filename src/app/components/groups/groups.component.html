<app-input-text [search]="true" [inputControl]="filter" floatingLabel="Search groups"></app-input-text>

<div class="group-list-container">
  <mat-card *ngFor="let group of groups" class="group-card" (click)="navToGroup(group)">
    <mat-card-header>
      <div mat-card-avatar class="group-image">
        <img [src]="group.pictureUrl || 'assets/img/default-group.jpg'" alt="{{ group.name }} group image" />
      </div>
      <mat-card-title>{{ group.name }}</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <p class="last-post-content">
        {{ getGroupMessage(group) }}
      </p>
      <span class="last-post-date">
        {{ (group.lastPost?.createdAtUtc ?? group.createdAtUtc) | date: 'mediumDate' }}
      </span>
    </mat-card-content>
  </mat-card>
</div>

<button
    mat-fab
    color="outline"
    aria-label="Create new post"
    class="create-group-button"
    (click)="openGroupCreation()"
  ><mat-icon>add</mat-icon>
</button>
